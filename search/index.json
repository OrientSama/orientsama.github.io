[{"content":"添加访问量模块 效果如上图所示，需要修改下面几个文件。这些文件（除了hugo.yaml之外）都是在themes\\your theme folder下面找到的。但是我为了避免之后更新主题方便，我都在外面建了相应的文件夹/文件。据我所知，hugo的文件是如果主文件夹下有同名的文件，会优先使用主文件夹下的文件，如果没有，才会使用themes文件夹里面的文件。\n1 2 3 4 # hugo.yaml 博客的配置文件 params: busuanzi: enable: ture layouts/partials/footer/footer.html\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;!-- 在这的后面\u0026lt;/section\u0026gt; 与 \u0026lt;/footer\u0026gt; 之间--\u0026gt; \u0026lt;!-- busuanzi --\u0026gt; {{ if .Site.Params.busuanzi.enable -}} \u0026lt;section class=\u0026#34;busuanzi\u0026#34;\u0026gt; \u0026lt;span id=\u0026#34;busuanzi_container_site_pv\u0026#34;\u0026gt; 本站总访问量 \u0026lt;span id=\u0026#34;busuanzi_value_site_pv\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;次 \u0026lt;/span\u0026gt; \u0026lt;span id=\u0026#34;busuanzi_container_site_uv\u0026#34;\u0026gt; 本站访客数 \u0026lt;span id=\u0026#34;busuanzi_value_site_uv\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;人次 \u0026lt;/span\u0026gt; \u0026lt;/section\u0026gt; {{- end -}} layout/partials/head/custom.html\n1 2 3 4 5 \u0026lt;!-- busuanzi --\u0026gt; {{- if .Site.Params.busuanzi.enable -}} \u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;meta name=\u0026#34;referrer\u0026#34; content=\u0026#34;no-referrer-when-downgrade\u0026#34;\u0026gt; {{- end -}} assets/scss/partials/footer.scss修改文字格式\n1 2 3 4 5 6 7 8 .busuanzi { color: var(--body-text-color); font-weight: normal; font-size: 1.2rem; #busuanzi_container_site_uv { padding-left: 10px; } } 添加评论系统 评论系统使用的是giscus, 优点：利用github的discussion功能，不需要额外的搞其他东西；缺点：评论时需要登陆github。\n我所使用的stack主题支持许多系统，只需要简单的配置一下hugo.yaml即可。\n第一步 建一个公开仓库 名字无所谓，需要把discussion功能打开，如下图所示。\n第二步 安装giscus 使用链接giscus install 点击绿色按钮install，选用第二项Only select repositories， 选择你刚刚创建的仓库。\n第三步 获取配置信息 使用链接giscus zh-CN,点进去，按照配置里面的选项选择 仓库填写刚才创建并安装giscus的仓库，之后全选第一个，会得到一个\u0026lt;script\u0026gt;\n第四步 修改yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 comments: enabled: true provider: giscus giscus: repo: \u0026#34;对应data-同名文件\u0026#34; repoID: category: categoryID: mapping: lightTheme: \u0026#34;light\u0026#34; darkTheme: \u0026#34;dark\u0026#34; reactionsEnabled: 1 emitMetadata: 0 修改中间文章栏的宽度 因为平时使用的都是2k屏幕，但是默认的文章宽度特别窄，我看着老难受的，所以查了很久怎么改这部分。对scss了解不深，主要是中间的@include respond(xx)代码块比较重要。\nlg: 1024px xl: 1280px 2xl: 1536px 这上面的参数在themes/your theme floder/assets/scss/breakpoints.scss里面,调整他们的比例主要是里面的三个参数：\nmax-width: 最大宽度（左边栏+中间+右边栏）这是有个范围的 比方说在respond(lg)里，就是从lg-xl的宽度范围内的比例。\nleft-sidebar-max-width/right-sidebar-max-width: 站最大宽度的百分比。 下面是我调整的参数。 assets/scss/custom.scss\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 .container { margin-left: auto; margin-right: auto; \u0026amp;.extended { @include respond(lg) { max-width: 1280px; --left-sidebar-max-width: 15%; --right-sidebar-max-width: 20%; } @include respond(xl) { max-width: 1536px; --left-sidebar-max-width: 15%; --right-sidebar-max-width: 20%; } @include respond(2xl) { max-width: 1980px; --left-sidebar-max-width: 10%; --right-sidebar-max-width: 15%; } } } 至此，评论系统+访问量统计+页面调整，大功告成~~ 不过我发现了新的问题，就是代码行号会出现这种情况：\n后续在改进吧。\n","date":"2024-09-22T16:56:39+08:00","image":"https://orientsama.github.io/p/comment/giscus_hu10047726757727743104.png","permalink":"https://orientsama.github.io/p/comment/","title":"访问量统计与评论系统"},{"content":"起因 搞完博客之后，总觉得页面空荡荡的（没什么内容，不空才怪），然后又看到之前的UP主的博客页面又多了新东西，感觉挺好的，我就把它弄过来了。\n方法 首先，需要在你的site文件夹下新建文件layouts/_default/baseof.html，之后把themes/[your theme folder]/layouts/_default/baseof.html文件的内容拷贝过来。 之后找到\u0026lt;body\u0026gt;,在里面添加下面这段代码，[your-public-git-repertory](这是你的静态页面仓库的地址，比如我的是orientsama.github.io)，\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;body class=\u0026#34;{{ block `body-class` . }}{{ end }}\u0026#34;\u0026gt; \u0026lt;!--上面这句不用复制 --\u0026gt; \u0026lt;!-- add start --\u0026gt; \u0026lt;script src=\u0026#34;https://[your-public-git-repertory]/background/particles.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://[your-public-git-repertory]/background/style.css\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;particles-js\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; particlesJS.load(\u0026#39;particles-js\u0026#39;, \u0026#34;https://[your-public-git-repertory]/background/particles_config.json\u0026#34;, function() { console.log(\u0026#39;particles.js loaded - callback\u0026#39;); }); \u0026lt;/script\u0026gt; \u0026lt;!-- add end --\u0026gt; 之后在static文件夹下建立background文件夹，放入三个文件。\n1 2 3 4 5 6 7 8 9 /* 文件名：style.css */ #particles-js { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1; } 第二个文件：partcles.js 在这个仓库里下载\n1 2 // 文件名：partcles.js // 这个文件太长了，就不粘贴了。。。 第三个文件：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // 文件名：particles_config.json { \u0026#34;particles\u0026#34;: { \u0026#34;number\u0026#34;: { \u0026#34;value\u0026#34;: 120, \u0026#34;density\u0026#34;: { \u0026#34;enable\u0026#34;: true, \u0026#34;value_area\u0026#34;: 800 } }, \u0026#34;color\u0026#34;: { \u0026#34;value\u0026#34;: \u0026#34;#66ccff\u0026#34; }, \u0026#34;shape\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;circle\u0026#34;, \u0026#34;stroke\u0026#34;: { \u0026#34;width\u0026#34;: 0, \u0026#34;color\u0026#34;: \u0026#34;#000000\u0026#34; }, \u0026#34;polygon\u0026#34;: { \u0026#34;nb_sides\u0026#34;: 5 }, \u0026#34;image\u0026#34;: { \u0026#34;src\u0026#34;: \u0026#34;img/github.svg\u0026#34;, \u0026#34;width\u0026#34;: 100, \u0026#34;height\u0026#34;: 100 } }, \u0026#34;opacity\u0026#34;: { \u0026#34;value\u0026#34;: 0.5, \u0026#34;random\u0026#34;: false, \u0026#34;anim\u0026#34;: { \u0026#34;enable\u0026#34;: false, \u0026#34;speed\u0026#34;: 1, \u0026#34;opacity_min\u0026#34;: 0.1, \u0026#34;sync\u0026#34;: false } }, \u0026#34;size\u0026#34;: { \u0026#34;value\u0026#34;: 4, \u0026#34;random\u0026#34;: true, \u0026#34;anim\u0026#34;: { \u0026#34;enable\u0026#34;: false, \u0026#34;speed\u0026#34;: 40, \u0026#34;size_min\u0026#34;: 0.1, \u0026#34;sync\u0026#34;: false } }, \u0026#34;line_linked\u0026#34;: { \u0026#34;enable\u0026#34;: true, \u0026#34;distance\u0026#34;: 80, \u0026#34;color\u0026#34;: \u0026#34;#66ccff\u0026#34;, \u0026#34;opacity\u0026#34;: 0.4, \u0026#34;width\u0026#34;: 1 }, \u0026#34;move\u0026#34;: { \u0026#34;enable\u0026#34;: true, \u0026#34;speed\u0026#34;: 3, \u0026#34;direction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;random\u0026#34;: true, \u0026#34;straight\u0026#34;: false, \u0026#34;out_mode\u0026#34;: \u0026#34;out\u0026#34;, \u0026#34;bounce\u0026#34;: false, \u0026#34;attract\u0026#34;: { \u0026#34;enable\u0026#34;: false, \u0026#34;rotateX\u0026#34;: 600, \u0026#34;rotateY\u0026#34;: 1200 } } }, \u0026#34;interactivity\u0026#34;: { \u0026#34;detect_on\u0026#34;: \u0026#34;window\u0026#34;, \u0026#34;events\u0026#34;: { \u0026#34;onhover\u0026#34;: { \u0026#34;enable\u0026#34;: true, \u0026#34;mode\u0026#34;: \u0026#34;grab\u0026#34; }, \u0026#34;onclick\u0026#34;: { \u0026#34;enable\u0026#34;: true, \u0026#34;mode\u0026#34;: \u0026#34;repulse\u0026#34; }, \u0026#34;resize\u0026#34;: true }, \u0026#34;modes\u0026#34;: { \u0026#34;grab\u0026#34;: { \u0026#34;distance\u0026#34;: 200, \u0026#34;line_linked\u0026#34;: { \u0026#34;opacity\u0026#34;: 1 } }, \u0026#34;bubble\u0026#34;: { \u0026#34;distance\u0026#34;: 400, \u0026#34;size\u0026#34;: 40, \u0026#34;duration\u0026#34;: 2, \u0026#34;opacity\u0026#34;: 8, \u0026#34;speed\u0026#34;: 3 }, \u0026#34;repulse\u0026#34;: { \u0026#34;distance\u0026#34;: 250, \u0026#34;duration\u0026#34;: 0.4 }, \u0026#34;push\u0026#34;: { \u0026#34;particles_nb\u0026#34;: 4 }, \u0026#34;remove\u0026#34;: { \u0026#34;particles_nb\u0026#34;: 2 } } }, \u0026#34;retina_detect\u0026#34;: true } particles_config.json是配置文件，你可以自己在这个网站自己调整，上面那个是我copyUP主的。\n三个文件都搞定后，commit提交更新，之后git push，等待网页刷新即可。\n结语 折腾了不少时间，原因很多，粗心大意是一方面，另一方面是对hugo的框架了解的不深，只能说道阻且长。\n","date":"2024-09-21T15:31:34+08:00","image":"https://orientsama.github.io/p/particles/particles_hu18371721016363736066.png","permalink":"https://orientsama.github.io/p/particles/","title":"为博客添加动态粒子效果"},{"content":"起因 主要还是夜里睡不着觉，然后在B站上看到了一条短视频，大致内容是关于程序员写技术博客的好处有哪些。吓，我也算是程序员，还没写过技术博客，怪不得水平那么低。于是乎，我就开始寻找搭建博客的教程。\n过程 开始搜索如何搭建博客，搭博客一般来说都需要整个服务器，但是我没有，所以就找一些免费的博客。很快就搜到了一个这样一个视频——Hugo + Github免费搭建博客，并实现自动化部署，因为当时还是在深夜，不能打扰室友休息，所以我只是看视频，大致学一下流程。总体视频看下来，没有什么难度。看完便睡了，第二天下午开始动手搭建。\n原本以为整个流程没有什么困难的，直到最后一步自动化部署。我当时在搭建过程中也不是全按照视频来做的，首先git clone HUGO仓库然后点进官方文档中，按照官方文档把主题添加到了git submodule……\n1 2 3 4 5 6 hugo new site quickstart cd quickstart git init git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke echo \u0026#34;theme = \u0026#39;ananke\u0026#39;\u0026#34; \u0026gt;\u0026gt; hugo.toml hugo server 就是以上的代码，修改掉应该修改的地方。 可以说前面的进展十分顺利，直到最后，要实现那个git update自动更新网页，出了问题。网页没有html,只有那种古老的xml，蓝色字体，毫无排版，丑的一。 没办法，无奈只能找原因。\n提示找不到html格式的布局文件，但是我本地运行没有任何问题。然后就是各种找原因，中间各种细节就不提了，最后发现，就是因为我的主题使用的git submodule add添加进去的，而不是像视频中直接下载的压缩包解压。\n把这个步骤解决之后，再次提交，自动部署成功了。\n结果 现在的问题是，博客搭好了，我应该写什么东西呢？这真是一个大问题。\n","date":"2024-09-21T09:09:14+08:00","image":"https://orientsama.github.io/p/first_blog/hugo_logo_hu10817293329037133618.jpeg","permalink":"https://orientsama.github.io/p/first_blog/","title":"第一篇博客"}]